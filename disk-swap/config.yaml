name: Disk Swap
version: "0.3.2"
slug: disk-swap
description: "Flash HA OS to any USB device — directly from Home Assistant, no PC required."
url: "https://github.com/Eliav2/ha-disk-swap"
arch:
  - aarch64
  - amd64
init: false
startup: application
boot: manual
stage: experimental
timeout: 300

# Hardware access — full_access is required because USB devices
# appear as dynamic /dev/sdX block devices and HA's devices: key only
# supports static paths (no wildcards).
full_access: true
udev: true

# Ingress web UI
ingress: true
ingress_port: 8099
ingress_entry: /
panel_icon: "mdi:micro-sd"
panel_title: "Disk Swap"

# Supervisor API access
# hassio_role: backup gives access to all /backups/* endpoints (create, download, upload, restore)
# as well as all /*/info read endpoints.
# manager role is needed if we later want /host/reboot or /os/* write endpoints.
hassio_api: true
hassio_role: backup
homeassistant_api: false
auth_api: false

# Storage
map:
  - type: data
    read_only: false
  - type: backup
    read_only: false
tmpfs: true

# Backup
backup: cold

# No user-configurable options yet
options: {}
schema: {}
